## 6 I/O
### 6.1 Pipe & FIFO
- 익명 파이프와 명명된 파이프가 존재한다.
세마포어와 마찬가지로 익명 파이프는 다른 프로세서에서 접근 할 수 없다.
- 명명된 파이프는 FIFO라고 명명되어 있고 pipe는 익명 파이프, FIFO는 명명된 파이프를 의미한다.
- 쉘 명령어에서 파이프(|)를 사용하면 공유 데이터 페이지를 하나 생성하고 각명령이 실행될 때 이 데이터를 읽게된다.

- 익명파이프
익명 파이프의 생성방법에는 pipe와 popen이 있다.
pipe로 파이프를 생성하면 읽기/쓰기용 파이프가 배열로 전달되며 이 둘은 하나로 연결된 파이프이다.
popen으로 파이프를 생성하면 단방향 파이프를 생성할 수 있다.
	- popen의 경우 command를 사용해 파이프를 생성하기 때문에 보안에 취약할 수 있으니 주의해야한다.
	- 생성된 파이프의 타입이 FILE* 이기 때문에 fclose로 닫을 수 있는데 이는 파이프를 위해 생성된 서브 쉘의 안전한 종료를 보장하지 않으므로
pclose를 이용해 파이프를 닫아야한다.
- 명명된 파이프
송/수신 양쪽의 파이프가 모두 열려야 데이터를 정상적으로 쓰거나 읽을 수 있다.
일반적으로 수신측이 먼저 open을 수행하며 송신측이 open할 때까지 블럭된다.

### 6.2 소켓
- 소켓 도메인
소켓으로 통신할 수 있는 범위에 따라 분류하는 것을 말한다.
일반적으로 유닉스 도메인 소켓과 네트워크 도메인 소켓으로 분류할 수 있다.
	1. 유닉스 도메인 소켓
	외부 인터페이스 - 파일 경로
	원격지 연결, 유닉스 계열외 os지원 - 불가능
	2. 네트워크 도메인 소켓
	외부 인터페이스 - IP/Port
	원격지 연결, 유닉스 계열외 os지원 - 가능
- 생성
`int socket(int domain, int type, int protocol)`
	- domain
		- AF_UNIX : 유닉스 도메인 소켓
		- AF_INET : IPv4 네트워크 도메인 소켓
		- AF_INET6 : IPv6 네트워크 도메인 소켓
	- type
		- SOCK_STREAM : 스트림 소켓
		- SOCK_DGRAM : 데이터그램 소켓
		- SOCK_RAW : raw 소켓 - 프로토콜 헤더가 필요한 모니터링 프로그램이나 헤더를 변경해야할 때 사용
	-  protocol
		- IPROTO_IP : IP 프로토콜 사용
		- IPROTO_TCP :  TCP 프로토콜 사용
		- IPROTO_UDP : UDP 프로토콜 사용 - 유저가 지정한 크기로 데이터가 전달되지만 IP 프로토콜이 더 작기 때문에 실제로는 쪼개졌다가 다시 합쳐진다
IPROTO_ICMP : ICMP 프로토콜 사용

### 6.3 바이트 순서
- Big Endian
숫자의 큰자리 수부터 시작한다.
네트워크 전송에서 기본적으로 사용하는 방식이며 대부분의 RISC 프로세서(sparc, Motorola CPU)에서 채택하는 방식이다.
가독성이 좋고 크기 비교가 쉽지만
자릿수가 다른 숫자와 덧셈을 해야하거나 변수의 크기가 확장되는 경우 모든 바이트를 오른쪽으로 이동해야할 수 있다.
- Little Endian
숫자의 가장 작은 자리수 부분 부터 시작한다.
인텔 계열의 CPU에서 주로 사용된다.
가독성이 떨어지지만 컴퓨터가 덧셈이나 자릿수를 계산할 때는 더 편리하다.
